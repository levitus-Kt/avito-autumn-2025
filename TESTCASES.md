# Тест-кейсы для API микросервиса

Общие предусловия:

Host: https://qa-internship.avito.com

Все запросы в JSON

1. Создать объявление (POST /api/1/item)

001: Успешное создание с валидными данными

Предусловия: валидный body (sellerID: int, name: str, price: int, statistics: obj с likes/viewCount/contacts: int)

Шаги: отправить POST

Ожидаемый результат: 200 OK, ответ содержит id (str), sellerId, name, price, createdAt (str), statistics


002: Создание с нулевыми статами

Предусловия: statistics {likes:0, viewCount:0, contacts:0}

Шаги: отправить POST

Ожидаемый результат: 200 OK, статистика сохранена как 0


003: Создание без обязательных полей

Предусловия: body без name

Шаги: отправить POST

Ожидаемый результат: 400 Bad Request, ошибка в messages


004: Создание с невалидными типами

Предусловия: price = "abc"

Шаги: отправить POST

Ожидаемый результат: 400 Bad Request


2. Получить объявление по ID (GET /api/1/item/{id})

005: Успешное получение существующего ID

Предусловия: создать item, выбрать id

Шаги: отправить GET с id

Ожидаемый результат: 200 OK, массив с 1 объектом


006: Получение несуществующего ID

Шаги: отправить GET

Ожидаемый результат: 404 Not Found


007: Получение с невалидным ID (не str)

Предусловия: id = 123

Шаги: отправить GET

Ожидаемый результат: 404 Not Found


3. Получить все объявления по sellerID (GET /api/1/{sellerID}/item)

008: Успешное получение для seller с items

Предусловия: создать 2 items с одним sellerID

Шаги: отправить GET

Ожидаемый результат: 200 OK, массив с 2+ объектами


009: Получение для seller без items

Предусловия: новый sellerID

Шаги: отправить GET

Ожидаемый результат: 200 OK, пустой массив []


010: Получение с невалидным sellerID (str вместо int)

Предусловия: sellerID = "abc"

Шаги: отправить GET

Ожидаемый результат: 400 Bad Request


4. Получить статистику по ID (GET /api/1/statistic/{id})

011: Успешное получение для существующего ID

Предусловия: создать item

Шаги: отправить GET

Ожидаемый результат: 200 OK, массив с объектом statistics


012: Получение для несуществующего ID

Предусловия: несуществующий id

Шаги: отправить GET

Ожидаемый результат: 404 Not Found


013: Получение статистики после создания

Предусловия: создать stats {0,0,0}

Шаги: отправить GET

Ожидаемый результат: stats = {0,0,0}
